$(document).ready(function(){function e(){var e=$(this);return $("#sender-name").val()&&$("#sender-email").val()&&$("#sender-message").val()?$.ajax({url:e.attr("action")+"?ajax=true",type:e.attr("method"),data:e.serialize(),success:s}):$(".status-message, .incomplete-message").fadeIn().delay(a).fadeOut(),!1}function s(e){e=$.trim(e),"success"===e?($(".status-message, .success-message").fadeIn().delay(a).fadeOut(),$("#sender-name").val(""),$("#sender-email").val(""),$("#sender-message").val(""),sessionStorage.clear()):$(".status-message, .failure-message").fadeIn().delay(a).fadeOut()}yepnope({load:"/js/feature-test.min.js"});var a=2e3;$guts=$("#guts");var t=($("#landing"),["papn","csh","fb","sns","petershambora","wtfdrink","laura","resizely"]),n=function(e,s){$guts.load(e+".html",function(){var a=e;switch(a){case"papn":case"csh":case"fb":case"sns":case"petershambora":case"wtfdrink":case"laura":case"resizely":case"resume":i();break;case"contact":r()}s&&s()})},i=function(){$(".content-presenter li").each(function(e){$(this).css("left",e+"00%")}),$(".content-presenter li:first-child").addClass("first"),$(".content-presenter li:last-child").addClass("last"),$(".previous").addClass("is-disabled")},o=!1;$guts.on("click",".previous",function(){return"0px"===$(".first").css("left")?!1:o===!0?!1:(o=!0,$(".content-presenter li").animate({left:"+=100%"},750,function(){o=!1,"0px"===$(".first").css("left")&&$(".previous").addClass("is-disabled")}),void($(".next").hasClass("is-disabled")&&$(".next").removeClass("is-disabled")))}),$guts.on("click",".next",function(){return"0px"===$(".last").css("left")?!1:o===!0?!1:(o=!0,$(".content-presenter li").animate({left:"-=100%"},750,function(){o=!1,"0px"===$(".last").css("left")&&$(".next").addClass("is-disabled")}),void($(".previous").hasClass("is-disabled")&&$(".previous").removeClass("is-disabled")))});var l=function(){var e=window.location.hash.substring(1);$("#primary-nav ."+e).addClass("is-active"),$("#primary-nav ."+e+" a").attr("disabled","disabled"),n(e,function(){$guts.toggleClass("slideUp slideDown"),setTimeout(function(){$(".content").toggleClass("fadeOut fadeIn")},600)})};window.location.hash?l():(window.location.hash="entrance",l()),$(".nav-toggle").click(function(){$("#primary-nav li:not(.logo)").toggle()}),$("#primary-nav a").click(function(){$(".nav-toggle").is(":visible")&&$("#primary-nav li:not(.logo)").hide()}),$("#primary-nav li").click(function(){$("#primary-nav li").removeClass("is-active"),$("#primary-nav a").removeAttr("disabled"),$(this).is("#primary-nav li")&&($(this).addClass("is-active"),$(this).find("a").attr("disabled","disabled"))}),$(window).on("hashchange",function(){var e=window.location.hash.substring(1);$.inArray(e,t)>=0?($("#primary-nav li").removeClass("is-active"),$("#portfolio").toggleClass("fadeIn fadeOut"),setTimeout(function(){n(e,function(){$(".content").toggleClass("fadeIn fadeOut")})},200)):$(".content").hasClass("sub")&&"portfolio"===e?($(".content").toggleClass("fadeIn fadeOut"),setTimeout(function(){n(e,function(){$(".content").toggleClass("fadeIn fadeOut")})},200)):($(".content").toggleClass("fadeIn fadeOut"),setTimeout(function(){$guts.toggleClass("slideDown slideUp")},200),setTimeout(function(){n(e,function(){$guts.toggleClass("slideUp slideDown"),setTimeout(function(){$(".content").toggleClass("fadeOut fadeIn")},600)})},800))}),$guts.on("keyup",".stored",function(){var e=this.id;sessionStorage.setItem(e,this.value)});var r=function(){for(var e=0;e<sessionStorage.length;e++){var s=sessionStorage.getItem(sessionStorage.key(e));$("#"+sessionStorage.key(e)).val(s)}};$guts.on("submit","#contact-form",e)});