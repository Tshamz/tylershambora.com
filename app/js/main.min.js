$(document).ready(function(){function e(){var e=$(this);return $("#sender-name").val()&&$("#sender-email").val()&&$("#sender-message").val()?$.ajax({url:e.attr("action")+"?ajax=true",type:e.attr("method"),data:e.serialize(),success:t}):$(".status-message, .incomplete-message").fadeIn().delay(o).fadeOut(),!1}function t(e){e=$.trim(e),"success"===e?($(".status-message, .success-message").fadeIn().delay(o).fadeOut(),$("#sender-name").val(""),$("#sender-email").val(""),$("#sender-message").val(""),sessionStorage.clear()):$(".status-message, .failure-message").fadeIn().delay(o).fadeOut()}yepnope({load:"js/feature-test.min.js"});var s,a="",l={},o=2e3,n=800,r=400,d=$("#guts"),f=["papn","csh","fb","sns","petershambora","wtfdrink","laura","resizely","cpsolutions"];$.when($.get("subPagesDocument.html",function(e){s=$(e)}),$.getJSON("/js/galleryInfos.json",function(e){a=e})).then(function(){c()});var c=function(){var e=window.location.hash.substring(1);""===e&&(e="entrance"),$("#main-header ."+e).addClass("is-active"),$("#main-header ."+e+" a").attr("disabled","disabled"),g(e,function(){d.toggleClass("slideUp slideDown"),setTimeout(function(){$(".content").toggleClass("fadeOut fadeIn")},n)})},g=function(e,t){d.children("section").remove();var a=e;switch(a){case"resume":case"papn":case"csh":case"fb":case"sns":case"petershambora":case"wtfdrink":case"laura":case"resizely":case"cpsolutions":p(a);break;case"contact":h();default:d.prepend(s.closest("#"+a))}t&&t()},p=function(e){if(e in l)return void d.prepend(l[e]);var t=a[e].galleryStatus,s='<svg xmlns="http://www.w3.org/2000/svg" width="88" height="18"><linearGradient id="a" x2="0" y2="100%"><stop offset="0" stop-color="#fff" stop-opacity=".7"/><stop offset=".1" stop-color="#aaa" stop-opacity=".1"/><stop offset=".9" stop-opacity=".3"/><stop offset="1" stop-opacity=".5"/></linearGradient><rect rx="4" width="88" height="18" fill="#555"/><rect rx="4" x="44" width="44" height="18" fill="#4c1"/><path fill="#4c1" d="M44 0h4v18h-4z"/><rect rx="4" width="88" height="18" fill="url(#a)"/><g fill="#fff" text-anchor="middle" font-family="DejaVu Sans,Verdana,Geneva,sans-serif" font-size="11"><text x="23" y="13" fill="#010101" fill-opacity=".3">status</text><text x="23" y="12">status</text><text x="65" y="13" fill="#010101" fill-opacity=".3">online</text><text x="65" y="12">online</text></g></svg>',o='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="18"><linearGradient id="a" x2="0" y2="100%"><stop offset="0" stop-color="#fff" stop-opacity=".7"/><stop offset=".1" stop-color="#aaa" stop-opacity=".1"/><stop offset=".9" stop-opacity=".3"/><stop offset="1" stop-opacity=".5"/></linearGradient><rect rx="4" width="89" height="18" fill="#555"/><rect rx="4" x="44" width="45" height="18" fill="#e05d44"/><path fill="#e05d44" d="M44 0h4v18h-4z"/><rect rx="4" width="89" height="18" fill="url(#a)"/><g fill="#fff" text-anchor="middle" font-family="DejaVu Sans,Verdana,Geneva,sans-serif" font-size="11"><text x="23" y="13" fill="#010101" fill-opacity=".3">status</text><text x="23" y="12">status</text><text x="65.5" y="13" fill="#010101" fill-opacity=".3">offline</text><text x="65.5" y="12">offline</text></g></svg>',n='<svg xmlns="http://www.w3.org/2000/svg" width="99" height="18"><linearGradient id="a" x2="0" y2="100%"><stop offset="0" stop-color="#fff" stop-opacity=".7"/><stop offset=".1" stop-color="#aaa" stop-opacity=".1"/><stop offset=".9" stop-opacity=".3"/><stop offset="1" stop-opacity=".5"/></linearGradient><rect rx="4" width="99" height="18" fill="#555"/><rect rx="4" x="44" width="55" height="18" fill="#dfb317"/><path fill="#dfb317" d="M44 0h4v18h-4z"/><rect rx="4" width="99" height="18" fill="url(#a)"/><g fill="#fff" text-anchor="middle" font-family="DejaVu Sans,Verdana,Geneva,sans-serif" font-size="11"><text x="23" y="13" fill="#010101" fill-opacity=".3">status</text><text x="23" y="12">status</text><text x="70.5" y="13" fill="#010101" fill-opacity=".3">'+t+'</text><text x="70.5" y="12">'+t+"</text></g></svg>",r=a[e].galleryTitle,f=a[e].galleryDescription,c=a[e].marqueeImage,g=a[e].galleryURL,p=a[e].galleryURLAppearance,u="";"online"===t?(c='<a href="'+g+'" target="_blank"><img src="'+c+'" /></a>',u=s,g='<p><strong><a href="'+g+'" target="_blank">'+p+"</a></strong></p>"):"offline"===t?(c='<img src="'+c+'" />',u=o,g=""):(c='<img src="'+c+'" />',u=n,g="");var h="";h+=a[e].subGallery?'<section class="fadeOut content sub gallery">':"resume"===e?'<section class="fadeOut content gallery resume">':'<section class="fadeOut content gallery>',h+="<nav>",h+='<div class="gallery-control previous"></div>',h+='<div class="gallery-control next"></div>',h+="</nav>",h+='<div class="slide" style="left:0%;">',h+='<div class="gallery-panel marquee">',h+='<div class="marquee-image">',h+=c,h+="</div>",h+='<div class="gallery-title">',h+='<span class="page-title"><h2 class="hyphenate">'+r+' </h2><span class="page-badge">'+u+"</span></span>",h+="</div>",h+='<div class="gallery-url">',h+=g,h+="</div>",h+='<div class="gallery-description">',h+="<p>"+f+"</p>",h+="</div>",h+="</div>",h+="</div>";var m=a[e].additionalGalleries,v="";for(i=0;i<m.length;i++){var y=m[i],x=y[0],w=y[1],b=y[2],k=y[3],C=i+1;v+='<div class="slide" style="left:'+C+'00%;">',v+='<div class="gallery-panel repeat '+w+'">',v+='<div class="gallery-image"><img src="img/sites/'+b+'" lightbox="'+x+'" /></div>',v+='<div class="gallery-text"><p>'+k+"</p></div>",v+="</div>",v+="</div>"}var I=h+v+"</section>";l[e]=I,d.prepend(I),$(".gallery .slide:first-of-type").addClass("first"),$(".gallery .slide:last-of-type").addClass("last"),$(".previous").addClass("is-disabled"),d.on("click",'.gallery img[lightbox="true"]',function(){var e=$(this).attr("src");$("#lightbox-image").attr("src",e),$("#lightbox").show()}),$("#lightbox-image").click(function(e){e.stopPropagation()}),$("#lightbox").click(function(){$("#lightbox").hide()}),$(".gallery-panel.resume img").click(function(){window.open("/resume.pdf","Tyler Shambora's Resume")})},u=!1;d.on("click",".previous",function(){return"0px"===$(".first").css("left")?!1:u===!0?!1:(u=!0,$(".gallery .slide").animate({left:"+=100%"},750,function(){u=!1,"0px"===$(".first").css("left")&&$(".previous").addClass("is-disabled")}),void($(".next").hasClass("is-disabled")&&$(".next").removeClass("is-disabled")))}),d.on("click",".next",function(){return"0px"===$(".last").css("left")?!1:u===!0?!1:(u=!0,$(".gallery .slide").animate({left:"-=100%"},750,function(){u=!1,"0px"===$(".last").css("left")&&$(".next").addClass("is-disabled")}),void($(".previous").hasClass("is-disabled")&&$(".previous").removeClass("is-disabled")))}),$(".nav-toggle").click(function(){$("#main-header .nav-item:not(.logo)").toggle()}),$("#main-header a").click(function(){$(".nav-toggle").is(":visible")&&$("#main-header .nav-item:not(.logo)").hide()}),$("#main-header .nav-item").click(function(){$("#main-header .nav-item").removeClass("is-active"),$("#main-header a").removeAttr("disabled"),$(this).is("#main-header .nav-item")&&($(this).addClass("is-active"),$(this).find("a").attr("disabled","disabled"))}),sessionStorage.wtfdrinkPermission!==!0&&d.on("click",".portfolio-item.wtfdrink a",function(e){$("#wtf-overlay").show(),e.preventDefault()}),$("#no-way").click(function(){sessionStorage.setItem("wtfdrinkPermission",!1),$("#wtf-overlay").hide()}),$("#yes-way").click(function(){sessionStorage.setItem("wtfdrinkPermission",!0),$("#wtf-overlay").hide(),window.location.hash="wtfdrink",d.off("click",".portfolio-item.wtfdrink a")}),$(window).on("hashchange",function(){var e=window.location.hash.substring(1);$.inArray(e,f)>=0?($("#main-header .nav-item").removeClass("is-active"),$("#main-header a").removeAttr("disabled"),$("#portfolio").toggleClass("fadeIn fadeOut"),setTimeout(function(){g(e,function(){$(".content").toggleClass("fadeIn fadeOut"),$("html, body").animate({scrollTop:0},400)})},r)):$(".content").hasClass("sub")&&"portfolio"===e?($(".content").toggleClass("fadeIn fadeOut"),setTimeout(function(){g(e,function(){$(".content").toggleClass("fadeIn fadeOut"),$("html, body").animate({scrollTop:0},400)})},r)):($(".content").toggleClass("fadeIn fadeOut"),setTimeout(function(){d.toggleClass("slideDown slideUp")},r),setTimeout(function(){g(e,function(){d.toggleClass("slideUp slideDown"),setTimeout(function(){$(".content").toggleClass("fadeOut fadeIn"),$("html, body").animate({scrollTop:0},400)},n)})},r+n))}),d.on("keyup",".stored",function(){var e=this.id;sessionStorage.setItem(e,this.value)});var h=function(){for(var e=0;e<sessionStorage.length;e++){var t=sessionStorage.getItem(sessionStorage.key(e));$("#"+sessionStorage.key(e)).val(t)}};d.on("submit","#contact-form",e)});