$(document).ready(function(){function a(){var t=$(this);if(!$("#sender-name").val()||!$("#sender-email").val()||!$("#sender-message").val()){$(".status-message, .incomplete-message").fadeIn().delay(e).fadeOut()}else{$.ajax({url:t.attr("action")+"?ajax=true",type:t.attr("method"),data:t.serialize(),success:f})}return false}function f(t){t=$.trim(t);if(t==="success"){$(".status-message, .success-message").fadeIn().delay(e).fadeOut();$("#sender-name").val("");$("#sender-email").val("");$("#sender-message").val("");sessionStorage.clear()}else{$(".status-message, .failure-message").fadeIn().delay(e).fadeOut()}}yepnope({load:"/js/feature-test.min.js"});var e=2e3;$guts=$("#guts");var t=$("#landing");var n=["papn","csh","fb","sns","petershambora","wtfdrink","laura","resizely"];var r=function(e,t){$guts.load(e+".html",function(){var n=e;switch(n){case"papn":case"csh":case"fb":case"sns":case"petershambora":case"wtfdrink":case"laura":case"resizely":case"resume":i();break;case"contact":u();break}if(t){t()}})};var i=function(){$(".content-presenter li").each(function(e){$(this).css("left",e+"00%")});$(".content-presenter li:first-child").addClass("first");$(".content-presenter li:last-child").addClass("last");$(".previous").addClass("is-disabled")};var s=false;$guts.on("click",".previous",function(){if($(".first").css("left")==="0px"){return false}if(s===true){return false}s=true;$(".content-presenter li").animate({left:"+=100%"},750,function(){s=false;if($(".first").css("left")==="0px"){$(".previous").addClass("is-disabled")}});if($(".next").hasClass("is-disabled")){$(".next").removeClass("is-disabled")}});$guts.on("click",".next",function(){if($(".last").css("left")==="0px"){return false}if(s===true){return false}s=true;$(".content-presenter li").animate({left:"-=100%"},750,function(){s=false;if($(".last").css("left")==="0px"){$(".next").addClass("is-disabled")}});if($(".previous").hasClass("is-disabled")){$(".previous").removeClass("is-disabled")}});var o=function(){var e=window.location.hash.substring(1);$("#primary-nav ."+e).addClass("is-active");$("#primary-nav ."+e+" a").attr("disabled","disabled");r(e,function(){$guts.toggleClass("slideUp slideDown");setTimeout(function(){$(".content").toggleClass("fadeOut fadeIn")},600)})};if(window.location.hash){o()}else{window.location.hash="entrance";o()}$(".nav-toggle").click(function(){$("#primary-nav li:not(.logo)").toggle()});$("#primary-nav a").click(function(){if($(".nav-toggle").is(":visible")){$("#primary-nav li:not(.logo)").hide()}});$("#primary-nav li").click(function(){$("#primary-nav li").removeClass("is-active");$("#primary-nav a").removeAttr("disabled");if($(this).is("#primary-nav li")){$(this).addClass("is-active");$(this).find("a").attr("disabled","disabled")}});$(window).on("hashchange",function(){var e=window.location.hash.substring(1);if($.inArray(e,n)>=0){$("#primary-nav li").removeClass("is-active");$("#portfolio").toggleClass("fadeIn fadeOut");setTimeout(function(){r(e,function(){$(".content").toggleClass("fadeIn fadeOut")})},200)}else if($(".content").hasClass("sub")&&e==="portfolio"){$(".content").toggleClass("fadeIn fadeOut");setTimeout(function(){r(e,function(){$(".content").toggleClass("fadeIn fadeOut")})},200)}else{$(".content").toggleClass("fadeIn fadeOut");setTimeout(function(){$guts.toggleClass("slideDown slideUp")},200);setTimeout(function(){r(e,function(){$guts.toggleClass("slideUp slideDown");setTimeout(function(){$(".content").toggleClass("fadeOut fadeIn")},600)})},800)}});$guts.on("keyup",".stored",function(){var e=this.id;sessionStorage.setItem(e,this.value)});var u=function(){for(var e=0;e<sessionStorage.length;e++){var t=sessionStorage.getItem(sessionStorage.key(e));$("#"+sessionStorage.key(e)).val(t)}};$guts.on("submit","#contact-form",a)})